{"id":-1,"name":"Onboarding diagram","userId":-1,"createdAt":"","updatedAt":"","content":{"items":[{"uid":"9a9XQgOosx","position":{"x":-690,"y":-100},"sizes":{"width":400,"height":280.5},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"filePathNode","attrs":{"pathToFile":"src/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"main.tsx"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Entry"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"createRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)"}]}]},"nodeType":"block"},{"uid":"B-6dIRyUpe","position":{"x":-690,"y":230},"sizes":{"width":400,"height":333},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"filePathNode","attrs":{"pathToFile":"src/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"App.tsx"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Application Login"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"function App() {\n  return (\n    <div id='App'>\n      <DndProvider backend={HTML5Backend}>\n        <Example />\n      </DndProvider>\n    </div>\n  );\n}"}]}]},"nodeType":"block"},{"uid":"JbzzfoskPz","position":{"x":-690,"y":640},"sizes":{"width":400,"height":294.5},"autoheight":true,"blockContent":{"content":[{"type":"filePathNode","attrs":{"pathToFile":"src/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"TutorialApp.tsx"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"export const TutorialApp = () => {\n  const game = useMemo(() => new Game(), [])\n\n  return (\n    <div id='TotorialApp'>\n      <Board game={game} />\n    </div>\n  );\n}"}]}]},"nodeType":"block"},{"uid":"NCvJodetK6","position":{"x":40,"y":850},"sizes":{"width":400,"height":854.5},"autoheight":true,"blockContent":{"content":[{"type":"filePathNode","attrs":{"pathToFile":"src/components/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Game.tsx"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"export class Game {\n  public knightPosition: Position = [2, 1];\n  private observers: PositionObserver[] = [];\n\n  public observe(o: PositionObserver): () => void {\n    this.observers.push(o);\n    this.emitChange();\n\n    return (): void => {\n      this.observers = this.observers.filter((t) => t !== o);\n    };\n  }\n\n  public emitChange() {\n    const pos = this.knightPosition;\n    this.observers.forEach((o) => o && o(pos));\n  }\n\n  public moveKnight(toX: number, toY: number): void {\n    this.knightPosition = [toX, toY];\n    this.emitChange();\n  }\n\n  public canMoveKnight(toX: number, toY: number) {\n    const [x, y] = this.knightPosition;\n    const dx = toX - x;\n    const dy = toY - y;\n\n    return (\n      (Math.abs(dx) === 2 && Math.abs(dy) === 1) ||\n      (Math.abs(dx) === 1 && Math.abs(dy) === 2)\n    );\n  }\n}"}]}]},"nodeType":"block"},{"uid":"leevST6AEe","position":{"x":-690,"y":980},"sizes":{"width":570,"height":749.5},"autoheight":true,"blockContent":{"content":[{"type":"filePathNode","attrs":{"pathToFile":"src/components/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Board.tsx"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"export default function Board({game}: {game: Game}): ReactElement {\n  const [[knightX, knightY], setKnightPos] = useState(game.knightPosition);\n  \n  useEffect(() => game.observe(setKnightPos), [game]);\n\n  const squares = [];\n  for (let i = 0; i < 64; i++) {\n    const x = i % 8;\n    const y = Math.floor(i / 8);\n    const black = (x + y) % 2 === 0;\n\n    squares.push(\n      <BoardSquare x={x} y={y} game={game}>\n        <Square black={black}>\n          {x === knightX && y === knightY ? <Knight /> : <></>}\n        </Square>\n      </BoardSquare>\n    );\n  }\n\n  return (\n    <div\n      id='Board'\n      style={{\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexWrap: 'wrap',\n      }}\n    >\n      {squares}\n    </div>\n  );\n}"}]}]},"nodeType":"block"},{"uid":"nvSdEqhkEq","position":{"x":-680,"y":1790},"sizes":{"width":400,"height":382},"autoheight":true,"blockContent":{"content":[{"type":"filePathNode","attrs":{"pathToFile":"src/components/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"BoardSquare.tsx"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"export const BoardSquare = ({children, x, y, game}: BoardSquareProps) => {\n  const [{isOver, canDrop}, drop] = useDrop(() => ({\n    accept: 'knight',\n    drop: () => {\n      game.moveKnight(x, y);\n    },\n    canDrop: () => x === 0 && y === 0,\n    collect: (monitor) => ({\n      isOver: !!monitor.isOver(),\n      canDrop: !!monitor.canDrop(),\n    }),\n  }));"}]}]},"nodeType":"block"},{"uid":"SNkF8zfWe-","position":{"x":-230,"y":1790},"sizes":{"width":400,"height":294.5},"autoheight":true,"blockContent":{"content":[{"type":"filePathNode","attrs":{"pathToFile":"src/components/","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Knight.tsx"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"export default function Knight() {\n  const [{isDragging}, dragRef] = useDrag(() => ({\n    type: 'knight',\n    collect: (monitor: DragSourceMonitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  }));"}]}]},"nodeType":"block"}],"configs":{"centerX":730.9272727272727,"centerY":-828.6363636363636,"zoomLevel":0.7890909090909091},"arrowData":{"arrowsMap":{"arrow-point-bI0wBh3Ufk-bottom-point-PSPLIYKa9J-top":{"to":"point-PSPLIYKa9J-top","from":"point-bI0wBh3Ufk-bottom","label":"Normal Box","direction":"ft","selectable":true},"arrow-point-bI0wBh3Ufk-bottom-point-ytXK_ayIc1-top":{"to":"point-ytXK_ayIc1-top","from":"point-bI0wBh3Ufk-bottom","label":"Code Box","direction":"ft","selectable":true},"arrow-point-hyyRZE3E8u-right-point-6ZopTaEaDZ-left":{"to":"point-6ZopTaEaDZ-left","from":"point-hyyRZE3E8u-right","label":"call","direction":"ft","selectable":true}},"pointsMap":{"point-PSPLIYKa9J-top":{"x":805.9999797489683,"y":60,"id":"point-PSPLIYKa9J-top","direction":"top"},"point-ytXK_ayIc1-top":{"x":205.99999493724206,"y":60,"id":"point-ytXK_ayIc1-top","direction":"top"},"point-6ZopTaEaDZ-left":{"x":220,"y":605.9999898744841,"id":"point-6ZopTaEaDZ-left","direction":"left"},"point-hyyRZE3E8u-right":{"x":100,"y":606,"id":"point-hyyRZE3E8u-right","direction":"right"},"point-bI0wBh3Ufk-bottom":{"x":515.9999797489683,"y":-40,"id":"point-bI0wBh3Ufk-bottom","direction":"bottom"}},"edgesMap":{"edge-9a9XQgOosx-9a9XQgOosx-bottom-B-6dIRyUpe-B-6dIRyUpe-top":{"uid":"edge-9a9XQgOosx-9a9XQgOosx-bottom-B-6dIRyUpe-B-6dIRyUpe-top","fromNodeId":"9a9XQgOosx","fromHandleId":"9a9XQgOosx-bottom","toNodeId":"B-6dIRyUpe","toHandleId":"B-6dIRyUpe-top","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-B-6dIRyUpe-B-6dIRyUpe-bottom-JbzzfoskPz-JbzzfoskPz-top":{"uid":"edge-B-6dIRyUpe-B-6dIRyUpe-bottom-JbzzfoskPz-JbzzfoskPz-top","fromNodeId":"B-6dIRyUpe","fromHandleId":"B-6dIRyUpe-bottom","toNodeId":"JbzzfoskPz","toHandleId":"JbzzfoskPz-top","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-NCvJodetK6-NCvJodetK6-left-leevST6AEe-leevST6AEe-right":{"uid":"edge-NCvJodetK6-NCvJodetK6-left-leevST6AEe-leevST6AEe-right","fromNodeId":"NCvJodetK6","fromHandleId":"NCvJodetK6-left","toNodeId":"leevST6AEe","toHandleId":"leevST6AEe-right","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-NCvJodetK6-NCvJodetK6-left-JbzzfoskPz-JbzzfoskPz-right":{"uid":"edge-NCvJodetK6-NCvJodetK6-left-JbzzfoskPz-JbzzfoskPz-right","fromNodeId":"NCvJodetK6","fromHandleId":"NCvJodetK6-left","toNodeId":"JbzzfoskPz","toHandleId":"JbzzfoskPz-right","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-nvSdEqhkEq-nvSdEqhkEq-right-SNkF8zfWe--SNkF8zfWe--left":{"uid":"edge-nvSdEqhkEq-nvSdEqhkEq-right-SNkF8zfWe--SNkF8zfWe--left","fromNodeId":"nvSdEqhkEq","fromHandleId":"nvSdEqhkEq-right","toNodeId":"SNkF8zfWe-","toHandleId":"SNkF8zfWe--left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}}}}}}